<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM + MANM Video Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-screen flex font-sans bg-gray-100">
    <div class="flex w-full h-full">

        <!-- Prompt Section -->
        <div class="flex flex-col w-1/3 p-5 border-r bg-gray-200">
            <h2 class="text-xl font-semibold mb-4">Prompt</h2>
            <textarea id="prompt-input" rows="5" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-400"></textarea>
            <button onclick="submitPrompt()" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Generate</button>
        </div>

        <!-- MANM Code Section -->
        <div class="flex flex-col w-1/3 p-5 border-r bg-gray-300">
            <h2 class="text-xl font-semibold mb-4">MANM Code</h2>
            <textarea id="manm-code" rows="10" class="w-full p-3 bg-white border rounded shadow-md focus:ring-2 focus:ring-blue-400">
                Generated MANM code will appear here...
                </textarea>
        </div>

        <!-- Video Section -->
        <div class="flex flex-col w-1/3 p-5 bg-gray-400">
            <h2 class="text-xl font-semibold mb-4">Generated Video</h2>
            <div class="relative">
                <!-- Video Element (No Default Controls) -->
                <video id="output-video" controls class="w-full bg-black rounded shadow-md">
                  <source src="https://samplelib.com/lib/preview/mp4/sample-5s.mp4" type="video/mp4">
                  Your browser does not support the video tag.
              </video>
              
                
            </div>

            
        </div>

    </div>

    <script>


        function submitPrompt() {
            let prompt = document.getElementById("prompt-input").value;
            if (prompt.trim() === "") {
                alert("Please enter a prompt.");
                return;
            }
            alert("Processing: " + prompt);
            // Here, you would send the prompt to the backend and handle the response
        }

        function toggleFullscreen() {
            let video = document.getElementById("output-video");

            if (!document.fullscreenElement) {
                if (video.requestFullscreen) {
                    video.requestFullscreen();
                } else if (video.mozRequestFullScreen) { // Firefox
                    video.mozRequestFullScreen();
                } else if (video.webkitRequestFullscreen) { // Chrome, Safari, Opera
                    video.webkitRequestFullscreen();
                } else if (video.msRequestFullscreen) { // IE/Edge
                    video.msRequestFullscreen();
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
        }

        function toggleMute() {
            let video = document.getElementById("output-video");
            let muteBtn = document.getElementById("mute-btn");

            if (video.muted) {
                video.muted = false;
                muteBtn.innerText = "ðŸ”Š"; // Unmuted icon
            } else {
                video.muted = true;
                muteBtn.innerText = "ðŸ”‡"; // Muted icon
            }
        }

        function toggleMenu() {
            let menu = document.getElementById("menu");
            menu.classList.toggle("hidden");
        }

        function downloadVideo() {
            let video = document.getElementById("output-video");
            let videoSrc = video.querySelector("source").src;

            if (!videoSrc) {
                alert("No video available to download!");
                return;
            }

            let a = document.createElement("a");
            a.href = videoSrc;
            a.download = "generated_video.mp4";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        document.addEventListener("click", function(event) {
            let menu = document.getElementById("menu");
            if (!event.target.closest("#menu") && !event.target.closest("button")) {
                menu.classList.add("hidden");
            }
        });
    </script>
</body>
</html>
