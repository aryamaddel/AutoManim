<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}AutoManim{% endblock %}</title>
    
    <!-- Core CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css" />

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/comment/comment.min.js"></script>

    {% block head %}{% endblock %}
    
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              gray: { 850: '#1a202c' }
            }
          }
        }
      }
    </script>
  </head>

  <body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-900 to-slate-800 text-gray-100 flex flex-col h-full">
    <div class="fixed inset-0 bg-[url('{{ url_for('static', filename='img/grid-pattern.svg') }}')] opacity-[0.02] pointer-events-none"></div>
    
    <!-- Header -->
    <header class="bg-slate-800/60 backdrop-blur-md py-3 px-4 shadow-lg border-b border-slate-700/30 relative z-10">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-xl font-bold text-white flex items-center">
          <span class="text-indigo-400 mr-1">Auto</span>Manim
        </h1>
        {% block header_actions %}{% endblock %}
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-4 flex flex-col relative z-10">
      {% block content %}{% endblock %}
    </main>

    <!-- App JS -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    {% block scripts %}{% endblock %}
  </body>
</html>
